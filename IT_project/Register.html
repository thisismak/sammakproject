<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <title>FileSync - Register</title>
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"
    ></script>
    <script
      nomodule
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"
    />
    <style>
      ion-content {
        --background: var(--ion-background-color, #f5f5f5);
      }
      .register-container {
        padding: 20px;
        max-width: 400px;
        margin: auto;
        position: absolute;
        left: 0;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }
      .header-title {
        text-align: center;
        font-size: 24px;
        margin-bottom: 20px;
      }
      .error-message {
        color: red;
        font-size: 14px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <ion-app>
      <ion-content>
        <div class="register-container">
          <h1 class="header-title">Create Your Account</h1>

          <ion-list>
            <ion-item>
              <ion-label position="floating">Username</ion-label>
              <ion-input type="text" id="username" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-label position="floating">Email</ion-label>
              <ion-input type="email" id="email" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-label position="floating">Password</ion-label>
              <ion-input type="password" id="password" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-label position="floating">Confirm Password</ion-label>
              <ion-input type="password" id="confirm-password" required></ion-input>
            </ion-item>
          </ion-list>

          <p class="error-message" id="error-message" style="display: none;"></p>

          <ion-button expand="block" color="primary" id="register-btn">Register</ion-button>

          <p style="text-align: center; margin-top: 20px;">
            Already have an account? <a href="/login">Login here</a>
          </p>
        </div>
      </ion-content>
    </ion-app>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const registerBtn = document.getElementById('register-btn');
        const errorMessage = document.getElementById('error-message');
        const username = document.getElementById('username');
        const email = document.getElementById('email');
        const password = document.getElementById('password');
        const confirmPassword = document.getElementById('confirm-password');

        registerBtn.addEventListener('click', () => {
          errorMessage.style.display = 'none';
          errorMessage.textContent = '';

          if (!username.value || !email.value || !password.value || !confirmPassword.value) {
            errorMessage.textContent = 'Please fill in all fields.';
            errorMessage.style.display = 'block';
            return;
          }

          if (password.value !== confirmPassword.value) {
            errorMessage.textContent = 'Passwords do not match.';
            errorMessage.style.display = 'block';
            return;
          }

          console.log('Registering with:', {
            username: username.value,
            email: email.value,
            password: password.value
          });

          username.value = '';
          email.value = '';
          password.value = '';
          confirmPassword.value = '';
          alert('Registration successful! Please log in.');
        });
      });
    </script>
  </body>
</html>